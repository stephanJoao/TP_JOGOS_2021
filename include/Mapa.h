#ifndef MAPA_H
#define MAPA_H
#include <SFML/Graphics.hpp>
#define TAMANHO_MAPA_X 38
#define TAMANHO_MAPA_Y 38
#define TAMANHO_BLOCOS 48
#define BORDA_ESQ 240
#define BORDA_DIR 1584
#define BORDA_SUP 192
#define BORDA_INF 1632

#define MAX_PONTOS 2000
#define NUMERO_ITENS 27

typedef struct
{
    sf::IntRect corpoBloco;
    sf::Vector2f posicaoBloco;
    sf::Vector2i posicaoNaImagem;
}Bloco;

typedef struct
{
    int x;
    int y;
}Ponto1;

typedef struct
{
    Ponto1 posicao;
    int visivel;
}ItemMinimapa1;

typedef struct
{
    int mapa[TAMANHO_MAPA_X][TAMANHO_MAPA_Y];
    Ponto1 jogador;
    int numeroPontos;
    Ponto1 pontosVisiveis[MAX_PONTOS];
    ItemMinimapa1 itens[NUMERO_ITENS];
}Minimapa1;

class Mapa
{
    public:
        Mapa(sf::Texture *texturaMapa, sf::Vector2u tamanhoDaImagemMapa, sf::Texture *texturaBorda, sf::Vector2u tamanhoDaImagemBorda);
        virtual ~Mapa();

        void desenha(sf::RenderWindow& window);
        Minimapa1 m;
        void desenhaMinimapa(sf::RenderWindow& window, sf::Vector2f posicao);

        int getCelula(int x, int y) { return tipoBlocos[x][y]; };

    private:
        sf::Vector2i numBlocos;
        int tamanhoBlocos;

        sf::RectangleShape textura;
        sf::Vector2i tamanhoDaImagem;

        sf::RectangleShape minimapa;
        sf::RectangleShape filtro;
        sf::RectangleShape borda;

        Bloco padrao;
        Bloco blocos[TAMANHO_MAPA_X][TAMANHO_MAPA_Y];

        int tipoBlocos[TAMANHO_MAPA_X][TAMANHO_MAPA_Y] = {
                                                            {2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1},
                                                            {1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2},
                                                            {2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1},
                                                            {1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2},
                                                            {2, 1, 2, 1, 6, 4, 6, 4, 6, 4, 6, 4, 6, 4, 6, 4, 6, 4, 6, 4, 6, 4, 6, 4, 6, 4, 6, 4, 6, 4, 6, 4, 6, 4, 2, 1, 2, 1},
                                                            {1, 2, 1, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 2, 1, 2},
                                                            {2, 1, 2, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 1, 2, 1},
                                                            {1, 2, 1, 6, 0, 0, 0, 7, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 2, 1, 2},
                                                            {2, 1, 2, 5, 0, 0, 0, 8, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 5, 3, 5, 3, 5, 3, 5, 0, 0, 0, 0, 0, 0, 0, 3, 1, 2, 1},
                                                            {1, 2, 1, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 2, 1, 2, 1, 2, 1, 6, 0, 0, 0, 0, 0, 0, 0, 4, 2, 1, 2},
                                                            {2, 1, 2, 5, 0, 0, 0, 0, 0, 3, 5, 3, 5, 0, 0, 0, 0, 0, 0, 3, 1, 2, 1, 2, 1, 2, 5, 0, 0, 0, 0, 0, 0, 0, 3, 1, 2, 1},
                                                            {1, 2, 1, 6, 0, 0, 0, 0, 0, 4, 2, 1, 6, 0, 0, 0, 0, 0, 0, 4, 6, 4, 6, 4, 6, 4, 6, 0, 0, 0, 0, 0, 0, 0, 4, 2, 1, 2},
                                                            {2, 1, 2, 5, 0, 0, 0, 0, 0, 3, 1, 2, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 1, 2, 1},
                                                            {1, 2, 1, 6, 0, 0, 0, 0, 0, 4, 2, 1, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 2, 1, 2},
                                                            {2, 1, 2, 5, 0, 0, 0, 0, 0, 3, 1, 2, 5, 0, 0, 0, 0, 0, 0, 0, 0, 3, 5, 3, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 1, 2, 1},
                                                            {1, 2, 1, 6, 0, 0, 0, 0, 0, 4, 2, 1, 6, 0, 0, 0, 0, 0, 0, 0, 0, 4, 2, 1, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 2, 1, 2},
                                                            {2, 1, 2, 5, 0, 0, 0, 0, 0, 3, 1, 2, 5, 3, 5, 3, 5, 0, 0, 0, 0, 3, 1, 2, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 1, 2, 1},
                                                            {1, 2, 1, 6, 0, 0, 0, 0, 0, 4, 2, 1, 2, 1, 2, 1, 6, 0, 0, 0, 0, 4, 6, 4, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 2, 1, 2},
                                                            {2, 1, 2, 5, 0, 0, 0, 0, 0, 3, 1, 2, 1, 2, 1, 2, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 1, 2, 1},
                                                            {1, 2, 1, 6, 0, 0, 0, 0, 0, 4, 6, 4, 6, 4, 6, 4, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 2, 1, 2},
                                                            {2, 1, 2, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 5, 3, 5, 3, 5, 3, 5, 0, 0, 0, 3, 1, 2, 1},
                                                            {1, 2, 1, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 2, 1, 2, 1, 2, 1, 6, 0, 0, 0, 4, 2, 1, 2},
                                                            {2, 1, 2, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 8, 8, 0, 0, 0, 3, 1, 2, 1, 2, 1, 2, 5, 0, 0, 0, 3, 1, 2, 1},
                                                            {1, 2, 1, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 7, 8, 0, 0, 0, 4, 2, 1, 6, 4, 6, 4, 6, 0, 0, 0, 4, 2, 1, 2},
                                                            {2, 1, 2, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 8, 8, 0, 0, 0, 3, 1, 2, 5, 0, 0, 0, 0, 0, 0, 0, 3, 1, 2, 1},
                                                            {1, 2, 1, 6, 0, 0, 0, 0, 0, 0, 3, 5, 3, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 2, 1, 6, 0, 0, 0, 0, 0, 0, 0, 4, 2, 1, 2},
                                                            {2, 1, 2, 5, 0, 0, 0, 0, 0, 0, 4, 2, 1, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 1, 2, 5, 0, 0, 0, 0, 0, 0, 0, 3, 1, 2, 1},
                                                            {1, 2, 1, 6, 0, 0, 0, 0, 0, 0, 3, 1, 2, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 6, 4, 6, 0, 0, 0, 0, 0, 0, 0, 4, 2, 1, 2},
                                                            {2, 1, 2, 5, 0, 0, 0, 0, 0, 0, 4, 6, 4, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 7, 8, 0, 3, 1, 2, 1},
                                                            {1, 2, 1, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 8, 8, 0, 4, 2, 1, 2},
                                                            {2, 1, 2, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 1, 2, 1},
                                                            {1, 2, 1, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 2, 1, 2},
                                                            {2, 1, 2, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 1, 2, 1},
                                                            {1, 2, 1, 2, 5, 3, 5, 3, 5, 3, 5, 3, 5, 3, 5, 3, 5, 3, 5, 3, 5, 3, 5, 3, 5, 3, 5, 3, 5, 3, 5, 3, 5, 3, 1, 2, 1, 2},
                                                            {2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1},
                                                            {1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2},
                                                            {2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1},
                                                            {1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2}
                                                         };
};
#endif // MAPA_H
